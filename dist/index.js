(()=>{"use strict";var t={703:(t,e,n)=>{n.d(e,{A:()=>p});var s=n(601),i=n.n(s),r=n(314),o=n.n(r),a=n(417),c=n.n(a),l=new URL(n(771),n.b),d=new URL(n(929),n.b),u=o()(i()),h=c()(l),g=c()(d);u.push([t.id,`#app {\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  overflow-x: auto;\n\n  background-size: cover;\n  background-position: 50% 50%;\n  background-image: url(${h});\n}\n\n@media (prefers-color-scheme: dark) {\n  #app {\n    background-image: url(${g});\n  }\n}\n`,""]);const p=u},418:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,".button {\n  padding: 10px;\n  outline: none;\n  cursor: pointer;\n  background-color: var(--button-color);\n  border: none;\n\n  color: var(--text-color);\n  text-shadow: var(--text-shadow);\n  font-size: 20px;\n  font-weight: bold;\n  transition: 0.25s;\n\n  &.glowing {\n    animation: glowing 1.5s linear infinite;\n  }\n\n  &:hover {\n    background-color: var(--button-color-active);\n  }\n}\n\n.button.inactive {\n  background-color: var(--button-color-inactive);\n}\n\n@media (prefers-color-scheme: dark) {\n  .button {\n    background-color: var(--button-color-dark);\n\n    &.glowing {\n      animation: glowing-dark 1.5s linear infinite;\n    }\n\n    &:hover {\n      background-color: var(--button-color-active-dark);\n    }\n  }\n}\n\n@keyframes glowing {\n  0% {\n    background-color: var(--button-color);\n  }\n  50% {\n    background-color: var(--button-color-active);\n  }\n  100% {\n    background-color: var(--button-color);\n  }\n}\n\n@keyframes glowing-dark {\n  0% {\n    background-color: var(--button-color-dark);\n  }\n  50% {\n    background-color: var(--button-color-active-dark);\n  }\n  100% {\n    background-color: var(--button-color-dark);\n  }\n}\n",""]);const a=o},20:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,".inputs {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  .input-box {\n    display: flex;\n    flex-direction: column;\n\n    .input-label {\n      font-size: 20px;\n      font-weight: bold;\n    }\n\n    .login-input {\n      padding: 10px;\n      outline: none;\n      border: 2px solid var(--button-color);\n      background-color: rgba(0, 0, 0, 0.2);\n      color: var(--text-color);\n\n      font-size: 26px;\n      transition: 0.25s;\n\n      &:focus,\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.6);\n      }\n    }\n  }\n}\n\n@media (prefers-color-scheme: dark) {\n  .login-input {\n    border: 2px solid var(--button-color-dark);\n  }\n}\n",""]);const a=o},563:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,".text {\n  color: var(--text-color);\n  text-shadow: var(--text-shadow);\n}\n",""]);const a=o},216:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#game .button.hint {\n  flex: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  width: 30px;\n  height: 30px;\n\n  & > svg {\n    fill: var(--svg-color);\n    stroke: var(--svg-color);\n    transition: 0.5s;\n  }\n}\n\n#game .button.hint.toggled {\n  background-color: var(--button-color-toggled);\n\n  & > svg {\n    fill: var(--svg-color-active);\n    stroke: var(--svg-color-active);\n  }\n  &:hover {\n    background-color: var(--button-color-toggled-active);\n  }\n}\n\n@media (prefers-color-scheme: dark) {\n  #game .button.hint.toggled {\n    background-color: var(--button-color-toggled-dark);\n    &:hover {\n      background-color: var(--button-color-toggled-active-dark);\n    }\n  }\n}\n",""]);const a=o},707:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#hints-container {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.buttons-box {\n  display: flex;\n  gap: 5px;\n}\n\n#hints-container .invisible {\n  opacity: 0;\n  pointer-events: none;\n}\n",""]);const a=o},196:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#sound {\n  display: flex;\n  justify-content: center;\n  transition: 0.25s;\n}\n\n#sound.playing svg {\n  animation: linear pulse 1s infinite;\n}\n\n@keyframes pulse {\n  0% {\n    fill: var(--svg-color-half-active);\n    stroke: var(--svg-color-half-active);\n  }\n  50% {\n    fill: var(--svg-color-active);\n    stroke: var(--svg-color-active);\n  }\n  100% {\n    fill: var(--svg-color-half-active);\n    stroke: var(--svg-color-half-active);\n  }\n}\n\n#sound .button.sound {\n  flex: none;\n  padding: 0;\n  width: 40px;\n  height: 40px;\n  background-color: transparent;\n}\n\n#game.word-finish #sound {\n  pointer-events: all;\n  opacity: 1;\n}\n\n.button.sound > svg {\n  fill: var(--svg-color);\n  stroke: var(--svg-color);\n  transition: 0.25s;\n}\n\n.button.sound:hover > svg {\n  fill: var(--svg-color-half-active);\n  stroke: var(--svg-color-half-active);\n}\n",""]);const a=o},159:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#translation {\n  font-size: 22px;\n  text-align: center;\n  transition: 0.25s;\n}\n\n#game.word-finish #translation {\n  pointer-events: all;\n  opacity: 1;\n}\n",""]);const a=o},63:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#logout {\n  margin: 20px;\n  top: 10px;\n  right: 10px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n\n  .logout-name {\n    font-size: 20px;\n    font-weight: bold;\n  }\n}\n",""]);const a=o},911:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,".selectors-box {\n  display: flex;\n  gap: 20px;\n}\n\n.selector-container {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n\n.game-selector {\n  width: 50px;\n  height: 100%;\n  color: var(--text-color);\n  background-color: var(--primary-color);\n  font-size: 16px;\n}\n\n.completed {\n  background-color: green;\n}\n",""]);const a=o},849:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,".word-card {\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  background-color: var(--primary-color);\n  border: 1px solid var(--secondary-color);\n\n  &.correct,\n  &.incorrect {\n    border-bottom-width: 3px;\n  }\n  &.correct {\n    border-bottom-color: rgb(0, 200, 0);\n  }\n  &.incorrect {\n    border-bottom-color: rgb(200, 0, 0);\n  }\n  &.drag-over {\n    border-left-width: 6px;\n  }\n  &.drag-over-right {\n    border-right-width: 6px;\n  }\n\n  &:hover {\n    background-color: var(--primary-color-active);\n  }\n\n  .word-card-text {\n    margin-left: 5px;\n    text-shadow:\n      -1px -1px 0 #000,\n      1px -1px 0 #000,\n      -1px 1px 0 #000,\n      1px 1px 0 #000;\n    z-index: 1;\n  }\n\n  .puzzle-tail {\n    position: absolute;\n    background-color: var(--tertiary-color);\n    border: 1px solid var(--secondary-color);\n    border-radius: 100%;\n    aspect-ratio: 1;\n    height: 22px;\n    left: -12px;\n    clip-path: polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%);\n  }\n\n  .puzzle-head {\n    position: absolute;\n    background-color: var(--primary-color);\n    border-radius: 100%;\n    border: 1px solid var(--secondary-color);\n    aspect-ratio: 1;\n    height: 20px;\n    right: -10px;\n    clip-path: polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%);\n    overflow: hidden;\n    z-index: 1;\n  }\n\n  .card-image {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.word-card.no-image {\n  .puzzle-head {\n    background-color: var(--primary-color);\n  }\n\n  &:hover .puzzle-head {\n    background-color: var(--primary-color-active);\n  }\n\n  .card-image {\n    display: none;\n  }\n}\n\n.round-finish .word-card {\n  border-width: 0px;\n\n  .word-card-text {\n    opacity: 0;\n    transition: 1s;\n  }\n\n  .puzzle-tail {\n    border-width: 0px;\n    background-color: transparent;\n    transition: 1s;\n  }\n\n  .puzzle-head {\n    border-width: 0px;\n    background-color: transparent;\n  }\n\n  .card-image {\n    display: initial;\n  }\n}\n",""]);const a=o},267:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#game {\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n  width: clamp(700px, 80%, 800px);\n  padding: 20px;\n  border-radius: 5px;\n  background-color: var(--screen-background);\n\n  .menu {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .row {\n    border: 1px solid var(--secondary-color);\n    height: 35px;\n    display: flex;\n    transition: 0.25s;\n  }\n\n  .row.drag-over {\n    background-color: rgba(100, 100, 0, 0.2);\n  }\n\n  .buttons-container {\n    display: flex;\n    gap: 20px;\n  }\n\n  .button {\n    flex: 1;\n  }\n\n  .buttons-box {\n    display: flex;\n    justify-content: end;\n  }\n\n  .notif {\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    right: 50%;\n    transform: translate(50%, -50%);\n    padding: 30px;\n    border-radius: 5px;\n    background-color: var(--notif-background);\n    animation: notification 5s;\n    z-index: 2;\n\n    .notif-text {\n      font-weight: bold;\n      font-size: 30px;\n    }\n  }\n}\n\n.lev {\n  display: flex;\n  gap: 10px;\n}\n\n@keyframes notification {\n  0% {\n    top: -100%;\n  }\n  20% {\n    top: 50%;\n  }\n  75% {\n    top: 50%;\n  }\n  100% {\n    top: -100%;\n  }\n}\n\n#game.round-finish .rows-container {\n  border: 2px solid var(--secondary-color);\n}\n\n#game.round-finish .rows-container .row {\n  border: none;\n}\n\n#game.round-finish > .row {\n  justify-content: center;\n  align-items: center;\n\n  .image-info {\n    text-align: center;\n    font-weight: bold;\n  }\n}\n",""]);const a=o},161:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,".levels {\n  padding: 20px;\n  width: 300px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 15px;\n  border-radius: 5px;\n  background-color: var(--screen-background);\n}\n\n.level {\n  flex: 1;\n}",""]);const a=o},689:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#login {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  .title {\n    text-align: center;\n    font-size: 36px;\n  }\n\n  .button {\n    height: 60px;\n    font-size: 28px;\n  }\n}\n",""]);const a=o},725:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#not-found {\n  padding: 20px;\n  background-color: var(--screen-background);\n  border-radius: 5px;\n\n  text-align: center;\n  font-size: 50px;\n  font-weight: bold;\n}\n",""]);const a=o},885:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#registration {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  .title {\n    text-align: center;\n    font-size: 36px;\n  }\n\n  .button {\n    height: 60px;\n    font-size: 28px;\n  }\n}\n",""]);const a=o},70:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#round {\n  padding: 20px;\n  width: clamp(700px, 80%, 1100px);\n  border-radius: 5px;\n  background-color: var(--screen-background);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: start;\n  height: 80vh;\n  overflow: auto;\n  gap: 15px;\n\n  .button {\n    align-self: flex-start;\n  }\n\n  .author {\n    color: rgb(235, 255, 197);\n  }\n}\n\n.rounds {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 25px;\n}\n\n.round {\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  text-align: center;\n  overflow: hidden;\n  gap: 5px;\n  padding: 5px;\n  border-radius: 5px;\n  background-color: var(--screen-background);\n  cursor: pointer;\n  transition: .25s;\n}\n\n.round .name {\n  color: greenyellow;\n}\n\n.round img {\n  border-radius: 5px;\n  height: 150px;\n  width: 100%;\n  object-fit: cover;\n  transition: .25s;\n}\n\n.round.incomplete .name {\n  color: white;\n}\n\n.round.incomplete img {\n  filter:  grayscale(100%);\n}\n\n.round:hover {\n  box-shadow: inset 0 0 0 2px var(--button-color);\n}\n\n.round.incomplete:hover img {\n  filter:  grayscale(80%);\n}",""]);const a=o},361:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#start {\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n\n  width: 490px;\n\n  .text {\n    text-align: center;\n  }\n\n  .game-title {\n    font-size: 58px;\n  }\n\n  .game-description {\n    font-size: 24px;\n\n    span {\n      color: var(--text-highlight);\n    }\n  }\n\n  .button {\n    font-size: 36px;\n  }\n}\n",""]);const a=o},469:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"#stats {\n  width: 500px;\n  padding: 20px;\n  background-color: var(--screen-background);\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n\n  .img-wrapper {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    width: 100%;\n\n    .stats-img {\n      width: 100%;\n      border-radius: 5px;\n      border: 2px solid var(--secondary-color);\n    }\n\n    .stats-img-info {\n      font-size: 20px;\n      font-weight: bold;\n      text-align: center;\n    }\n  }\n\n  .sentences-wrapper {\n    display: flex;\n    flex-direction: column;\n    border-radius: 5px;\n    max-height: 200px;\n    overflow: auto;\n    gap: 10px;\n\n    .know,\n    .dont-know {\n      display: flex;\n      flex-direction: column;\n      gap: 15px;\n      padding: 10px;\n      border-radius: 5px;\n    }\n\n    .label-wrapper {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n\n      .counter {\n        text-align: center;\n        padding: 5px;\n        width: 20px;\n        border-radius: 100%;\n      }\n    }\n\n    .know {\n      background-color: rgba(0, 128, 0, 0.1);\n      .counter {\n        background-color: green;\n      }\n    }\n    .dont-know {\n      background-color: rgba(128, 0, 0, 0.1);\n      .counter {\n        background-color: rgb(128, 0, 0);\n      }\n    }\n\n    .sentences-box {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .sentence {\n      display: flex;\n      gap: 10px;\n    }\n\n    .sentence-sound {\n      cursor: pointer;\n      border: none;\n      width: 20px;\n      background-color: transparent;\n      fill: var(--svg-color);\n      stroke: var(--svg-color);\n      transition: 0.25s;\n\n      &:hover {\n        fill: var(--svg-color-active);\n        stroke: var(--svg-color-active);\n      }\n    }\n  }\n}\n",""]);const a=o},208:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"* {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 0;\n  padding: 0;\n}\n\n:root {\n  /* Button colors */\n  --button-color: rgb(57, 57, 201);\n  --button-color-dark: rgb(16, 16, 92);\n  --button-color-active: rgb(50, 50, 172);\n  --button-color-active-dark: rgb(30, 30, 104);\n  --button-color-inactive: rgb(50, 50, 50);\n\n  /* Toggle button colors */\n  --button-color-toggled: rgb(57, 57, 201);\n  --button-color-toggled-active: rgb(71, 71, 221);\n  --button-color-toggled-dark: rgb(27, 27, 155);\n  --button-color-toggled-active-dark: rgb(56, 56, 161);\n\n  /* Text colors */\n  --text-color: rgb(255, 255, 255);\n  --text-shadow: 0 3px 0 rgba(0, 0, 0, 0.5);\n  --text-highlight: rgb(245, 255, 157);\n\n  /* Svg colors */\n  --svg-color: rgb(128, 128, 128);\n  --svg-color-half-active: rgb(192, 192, 192);\n  --svg-color-active: rgb(255, 255, 255);\n\n  /* Common colors */\n  --primary-color: rgb(128, 128, 128);\n  --primary-color-active: rgb(155, 155, 155);\n  --secondary-color: rgb(255, 255, 255);\n  --tertiary-color: rgb(0, 0, 0);\n\n  --screen-background: rgba(51, 51, 51, 0.8);\n  --notif-background: rgba(0, 0, 0, 0.75);\n}\n\n.inactive {\n  pointer-events: none;\n}\n",""]);const a=o},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(s)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);s&&o[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},417:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var r={},o=[],a=0;a<t.length;a++){var c=t[a],l=s.base?c[0]+s.base:c[0],d=r[l]||0,u="".concat(l," ").concat(d);r[l]=d+1;var h=n(u),g={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(g);else{var p=i(g,s);s.byIndex=a,e.splice(a,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=s(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<r.length;o++){var a=n(r[o]);e[a].references--}for(var c=s(t,i),l=0;l<r.length;l++){var d=n(r[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=c}}},659:t=>{var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},771:(t,e,n)=>{t.exports=n.p+"11459e83d37bda3e44fc.png"},929:(t,e,n)=>{t.exports=n.p+"a3c8c491653341eaa4c6.png"}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,exports:{}};return t[s](r,r.exports,n),r.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");if(s.length)for(var i=s.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=s[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var t=n(72),e=n.n(t),s=n(825),i=n.n(s),r=n(659),o=n.n(r),a=n(56),c=n.n(a),l=n(540),d=n.n(l),u=n(113),h=n.n(u),g=n(703),p={};p.styleTagTransform=h(),p.setAttributes=c(),p.insert=o().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=d(),e()(g.A,p),g.A&&g.A.locals&&g.A.locals;var m=n(418),v={};v.styleTagTransform=h(),v.setAttributes=c(),v.insert=o().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=d(),e()(m.A,v),m.A&&m.A.locals&&m.A.locals;var f=n(563),x={};x.styleTagTransform=h(),x.setAttributes=c(),x.insert=o().bind(null,"head"),x.domAPI=i(),x.insertStyleElement=d(),e()(f.A,x),f.A&&f.A.locals&&f.A.locals;var b=n(20),y={};y.styleTagTransform=h(),y.setAttributes=c(),y.insert=o().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=d(),e()(b.A,y),b.A&&b.A.locals&&b.A.locals;const w=class{static getCookie(t){const e=`; ${document.cookie}`.split(`; ${t}=`);if(2===e.length)return e.pop()?.split(";").shift()}static setCookie(t,e,n){let s=`${t}=${e};path=/;`;n&&(s+=`expires=${new Date((new Date).getTime()+n).toUTCString()}`),document.cookie=s}static removeCookie(t){document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`}};var L;!function(t){t.UserInfo="userInfo",t.HintPreferences="hintPreferences",t.LastCompleted="lastCompleted"}(L||(L={}));class E{static getData(t){const e=localStorage.getItem(t);return e?JSON.parse(e):null}static setData(t,e){localStorage.setItem(t,JSON.stringify(e))}static clearUserData(){localStorage.clear()}}var C=n(63),S={};S.styleTagTransform=h(),S.setAttributes=c(),S.insert=o().bind(null,"head"),S.domAPI=i(),S.insertStyleElement=d(),e()(C.A,S),C.A&&C.A.locals&&C.A.locals;class I{constructor({id:t,className:e,tag:n}){this.root=document.createElement(n||"div"),this.root.id=t||"",this.root.className=e||""}}var T,k,A=n(725),B={};B.styleTagTransform=h(),B.setAttributes=c(),B.insert=o().bind(null,"head"),B.domAPI=i(),B.insertStyleElement=d(),e()(A.A,B),A.A&&A.A.locals&&A.A.locals,function(t){t.Login="",t.Registration="#registration",t.Start="#start",t.Level="#level",t.Round="#round",t.Game="#game",t.Stats="#stats"}(k||(k={}));class R{static logout(){E.clearUserData(),w.removeCookie("user"),this.navigate(k.Login)}static setRoute(t){this.routes.set(t.path,t)}static navigate(t,e){window.history.pushState({},"",t===k.Login?"/":t),this.handleLocation(e)}static handleLocation(t){const e=window.location.hash,n=void 0!==w.getCookie("user")&&null!==E.getData(L.UserInfo);if(!(t=>Object.values(k).includes(t))(e))return void this.redirectToNotFound();if(!this.hasAccess(e,n))return void this.redirect(e);const s=this.routes.get(e);this.render(s.root,n),s.onLoad&&s.onLoad(t)}static redirectToNotFound(){this.render(this.notFound.root,!1)}static render(t,e){this.coreElement.innerHTML="",e&&(this.logoutElement.updateUserInfo(),this.coreElement.appendChild(this.logoutElement.root)),this.coreElement.appendChild(t)}static hasAccess(t,e){return!(e&&t===k.Login||!e&&t!==k.Login&&t!==k.Registration)}static redirect(t){t===k.Login?this.navigate(k.Start):this.navigate(k.Login)}}T=R,R.notFound=new class extends I{constructor(){super({id:"not-found",className:"text"}),this.root.innerText="404\nСтраница не найдена"}},R.logoutElement=new class{constructor(t){this.root=document.createElement("div"),this.root.id="logout",this.userName=this.createUserInfo();const e=this.createLogoutButton(t);this.root.append(this.userName,e)}updateUserInfo(){const t=E.getData(L.UserInfo);this.userName.innerHTML=`${t?.firstName} ${t?.lastName}`}createUserInfo(){const t=E.getData(L.UserInfo),e=document.createElement("p");return e.className="text logout-name",e.innerHTML=`${t?.firstName} ${t?.lastName}`,e}createLogoutButton(t){const e=document.createElement("button");return e.className="button",e.innerHTML="Выйти",e.addEventListener("click",t),e}}((()=>T.logout())),R.routes=new Map;const M=R;var N;class H{static addDragToCards(t){t.forEach((t=>{t.setDraggable(!0),t.getRoot().addEventListener("dragstart",this.cardDragStartEvent),t.getRoot().addEventListener("drag",this.cardDragEvent),t.getRoot().addEventListener("dragend",this.cardDragEndEvent),t.getRoot().addEventListener("dragover",this.cardDragOverEvent),t.getRoot().addEventListener("dragleave",this.cardDragLeaveEvent),t.getRoot().addEventListener("drop",this.cardDropEvent)}))}static removeDragToCards(t){t.forEach((t=>{t.setDraggable(!1),t.getRoot().removeEventListener("dragstart",this.cardDragStartEvent),t.getRoot().removeEventListener("drag",this.cardDragEvent),t.getRoot().removeEventListener("dragend",this.cardDragEndEvent),t.getRoot().removeEventListener("dragover",this.cardDragOverEvent),t.getRoot().removeEventListener("dragleave",this.cardDragLeaveEvent),t.getRoot().removeEventListener("drop",this.cardDropEvent)}))}static isRightSide(t,e){const n=e.getBoundingClientRect();return t.clientX-n.x>n.width/2}static addDropZone(t){t.addEventListener("dragover",this.zoneDragOverEvent),t.addEventListener("drop",this.zoneDropEvent),t.addEventListener("dragleave",this.zoneDragLeaveEvent)}static removeDropZone(t){t.removeEventListener("dragover",this.zoneDragOverEvent),t.removeEventListener("drop",this.zoneDropEvent),t.removeEventListener("dragleave",this.zoneDragLeaveEvent)}}N=H,H.currentDrag=null,H.cardDragStartEvent=t=>{const e=t.currentTarget;N.currentDrag=e,e.style.opacity="0.99"},H.cardDragEvent=t=>{t.currentTarget.style.opacity="0"},H.cardDragEndEvent=t=>{const e=t.currentTarget;e.style.removeProperty("opacity"),e.style.removeProperty("right"),e.style.removeProperty("top"),N.currentDrag=null},H.cardDragOverEvent=t=>{const e=t.currentTarget;N.isRightSide(t,e)?(e.classList.remove("drag-over"),e.classList.add("drag-over-right")):(e.classList.remove("drag-over-right"),e.classList.add("drag-over")),t.preventDefault(),t.stopPropagation()},H.cardDragLeaveEvent=t=>{const e=t.currentTarget;e.classList.remove("drag-over"),e.classList.remove("drag-over-right")},H.cardDropEvent=t=>{if(!N.currentDrag)return;const e=t.currentTarget;e.classList.remove("drag-over"),e.classList.remove("drag-over-right"),N.isRightSide(t,e)?e.after(N.currentDrag):e.before(N.currentDrag),N.dropTrigger(),t.stopPropagation()},H.zoneDragOverEvent=t=>{t.currentTarget.classList.add("drag-over"),t.preventDefault()},H.zoneDragLeaveEvent=t=>{t.currentTarget.classList.remove("drag-over")},H.zoneDropEvent=t=>{if(!N.currentDrag)return;const e=t.currentTarget;e.classList.remove("drag-over"),e.appendChild(N.currentDrag),N.dropTrigger()};const D=H;class z{}class V{static async register(t,e,n,s){return fetch(`${this.baseURL}/user`,{method:"POST",body:JSON.stringify({email:n,password:s,first_name:t,last_name:e})})}static async login(t,e){const n=await fetch(`${this.baseURL}/session/?email=${t}&password=${e}`);if(!n.ok)throw new Error(n.status.toString());return await n.json()}static async getLevel(t){if(t<0||t>5)throw Error("Invalid index number. Index should be in 0-5 range.");const e={cookie:w.getCookie("user"),id:t+1},n=await fetch(`${this.baseURL}/level`,{body:JSON.stringify(e),method:"POST"});if(n.ok)return await n.json();M.logout()}static async completeRound(t){const e={cookie:w.getCookie("user"),id:t};(await fetch(`${this.baseURL}/level/completed`,{body:JSON.stringify(e),method:"POST"})).ok||M.logout()}static async getImage(t){const e=new Image;return e.src=`${this.baseURL}/${t}`,new Promise((t=>{e.addEventListener("load",(()=>t(e)),{once:!0})}))}static getImageSrc(t){return`${this.baseURL}/${t}`}}var P=n(707),$={};$.styleTagTransform=h(),$.setAttributes=c(),$.insert=o().bind(null,"head"),$.domAPI=i(),$.insertStyleElement=d(),e()(P.A,$),P.A&&P.A.locals&&P.A.locals;var W,U=n(216),G={};G.styleTagTransform=h(),G.setAttributes=c(),G.insert=o().bind(null,"head"),G.domAPI=i(),G.insertStyleElement=d(),e()(U.A,G),U.A&&U.A.locals&&U.A.locals;class j{constructor(t){const e=document.createElement("button");e.className="button hint toggled",e.innerHTML=t,this.root=e}}class O extends I{constructor({id:t,icon:e,isToggled:n}){super({id:t}),this.isVisible=n,this.toggleBtn=this.createToggleBtn(e),this.isVisible||(this.isVisible=!this.isVisible,this.toggleVisibility())}createToggleBtn(t){const e=new j(t);return e.root.addEventListener("click",(()=>this.toggleVisibility())),e.root}toggleVisibility(){this.toggleBtn.classList.toggle("toggled"),this.isVisible=!this.isVisible,this.root.classList.toggle("invisible"),this.updatePreference()}}!function(t){t.Translate='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n  <g clip-path="url(#clip0_23_4319)">\n  <path d="M7.98864 10H6.93182V2.21023H5.07386C4.60227 2.21023 4.22301 2.28267 3.93608 2.42756C3.64915 2.5696 3.44034 2.77131 3.30966 3.03267C3.17898 3.29403 3.11364 3.59943 3.11364 3.94886C3.11364 4.2983 3.17756 4.59943 3.3054 4.85227C3.43608 5.10227 3.64347 5.29545 3.92756 5.43182C4.21449 5.56818 4.59091 5.63636 5.05682 5.63636H7.40909V6.59091H5.02273C4.34659 6.59091 3.79119 6.47869 3.35653 6.25426C2.92188 6.02699 2.59943 5.71449 2.3892 5.31676C2.17898 4.91903 2.07386 4.46307 2.07386 3.94886C2.07386 3.43466 2.17898 2.97585 2.3892 2.57244C2.59943 2.16903 2.9233 1.85227 3.3608 1.62216C3.7983 1.3892 4.35795 1.27273 5.03977 1.27273H7.98864V10ZM3.88068 6.07955H5.07386L2.96023 10H1.73295L3.88068 6.07955Z"/>\n  <path d="M12.0568 19V10.2727H15.0057C15.6875 10.2727 16.2472 10.3892 16.6847 10.6222C17.1222 10.8523 17.446 11.169 17.6562 11.5724C17.8665 11.9759 17.9716 12.4347 17.9716 12.9489C17.9716 13.4631 17.8665 13.919 17.6562 14.3168C17.446 14.7145 17.1236 15.027 16.6889 15.2543C16.2543 15.4787 15.6989 15.5909 15.0227 15.5909H12.6364V14.6364H14.9886C15.4545 14.6364 15.8295 14.5682 16.1136 14.4318C16.4006 14.2955 16.608 14.1023 16.7358 13.8523C16.8665 13.5994 16.9318 13.2983 16.9318 12.9489C16.9318 12.5994 16.8665 12.294 16.7358 12.0327C16.6051 11.7713 16.3963 11.5696 16.1094 11.4276C15.8224 11.2827 15.4432 11.2102 14.9716 11.2102H13.1136V19H12.0568ZM16.1648 15.0795L18.3125 19H17.0852L14.9716 15.0795H16.1648Z"/>\n  <path d="M5 11C5 15 8.33333 16 10 16M10 16L8 18M10 16L9 13.5"/>\n  <path d="M15 9C15 5 11.6667 4 10 4M10 4L12 2M10 4L11 6.5"/>\n  </g>\n  </svg>',t.Sound='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n  <path d="M8 16L5 14H2V6H5L8 4V16Z"/>\n  <path d="M5 6V14M5 6L8 4V16L5 14M5 6H2V14H5M10 17C12.4 11.4 11 5.33333 10 3"/>\n  <path d="M13 18C15.4 11.6 14 4.66667 13 2"/>\n  <path d="M16 19C18.4 11.8 17 4 16 1"/>\n  </svg>',t.Image='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n  <path d="M0.5 15H19.5M18.5 16V4"/>\n  <path d="M19.5 5H0.5M1.5 4V16"/>\n  <path d="M18 11.0413C15.9487 10.9004 9.87692 11.0413 2 12.732V14H18V11.0413Z"/>\n  <circle cx="5.5" cy="7.5" r="1.5"/>\n  </svg>'}(W||(W={}));const Z=W;var F=n(159),_={};_.styleTagTransform=h(),_.setAttributes=c(),_.insert=o().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=d(),e()(F.A,_),F.A&&F.A.locals&&F.A.locals;class J extends O{constructor(t){super({id:"translation",icon:Z.Translate,isToggled:t}),this.text=this.createTransText(),this.root.appendChild(this.text)}createTransText(){const t=document.createElement("p");return t.className="text",t}setTransText(t){this.text.innerHTML=t}updatePreference(){const t=E.getData(L.HintPreferences);t&&E.setData(L.HintPreferences,{...t,translation:this.isVisible})}}var K=n(196),q={};q.styleTagTransform=h(),q.setAttributes=c(),q.insert=o().bind(null,"head"),q.domAPI=i(),q.insertStyleElement=d(),e()(K.A,q),K.A&&K.A.locals&&K.A.locals;class Q extends O{constructor(t){super({id:"sound",icon:Z.Sound,isToggled:t}),this.soundBtn=this.createSoundBtn(),this.root.appendChild(this.soundBtn)}createSoundBtn(){const t=document.createElement("button");return t.className="button sound",t.innerHTML=Z.Sound,t.addEventListener("click",(()=>this.playSound())),t}playSound(){this.sound&&(window.speechSynthesis.cancel(),window.speechSynthesis.speak(this.sound),this.root.classList.add("playing"))}setSound(t){this.sound=t,this.sound.addEventListener("end",(()=>{this.root.classList.remove("playing")}))}updatePreference(){const t=E.getData(L.HintPreferences);t&&E.setData(L.HintPreferences,{...t,sound:this.isVisible})}}class X extends O{constructor(t){super({id:"image",icon:Z.Image,isToggled:t}),this.wordCards=[],this.heightSize=1e3,this.aspectRatio=1,this.startWidth=0,this.startHeight=0,this.rowHeight=0}setImage(t){this.wordCards=[],this.image=t,this.aspectRatio=this.image.naturalWidth/this.image.naturalHeight}calcStartCoords(t,e,n){this.image&&(this.rowHeight=e,this.heightSize=this.rowHeight*n,this.aspectRatio>1?(this.startWidth=(this.heightSize*this.aspectRatio-t)/2,this.startWidth<0?(this.heightSize-=2*this.startWidth,this.startHeight=-this.startWidth,this.startWidth=(this.heightSize*this.aspectRatio-t)/2):this.startHeight=0):(this.startHeight=(this.heightSize-this.rowHeight*n)/2,this.startHeight<0?(this.heightSize-=2*this.heightSize,this.startWidth=-this.startHeight,this.startHeight=(this.heightSize*this.aspectRatio-this.rowHeight*n)/2):this.startWidth=0))}getImgCoords(t,e){let n=0;const s=[];return t.forEach((t=>{const i=this.startWidth+n;n=t.getWidth()+n;const r=this.startHeight+this.rowHeight*e;t.setImage(this.isVisible),this.wordCards.push(t),s.push({x:i,y:r})})),s}toggleVisibility(){this.toggleBtn.classList.toggle("toggled"),this.isVisible=!this.isVisible,this.wordCards&&this.wordCards.forEach((t=>t.setImage(this.isVisible))),this.updatePreference()}addImagesToCards(t,e,n){const s=this.getImgCoords(t,e);t.forEach(((t,e)=>t.addImage(n,s[e],this.aspectRatio,this.heightSize)))}updatePreference(){const t=E.getData(L.HintPreferences);t&&E.setData(L.HintPreferences,{...t,image:this.isVisible})}}class Y extends I{constructor(){super({id:"hints-container"});const t=E.getData(L.HintPreferences);null===t&&E.setData(L.HintPreferences,{translation:!0,sound:!0,image:!0}),this.tranlation=new J(t?.translation??!0),this.sound=new Q(t?.sound??!0),this.image=new X(t?.image??!0),this.btnsBox=this.createBtnsBox([this.tranlation.toggleBtn,this.sound.toggleBtn,this.image.toggleBtn]),this.root.append(this.sound.root,this.tranlation.root)}createBtnsBox(t){const e=document.createElement("div");return e.className="buttons-box",e.append(...t),e}updateHintPrefs(){null===E.getData(L.HintPreferences)&&(E.setData(L.HintPreferences,{translation:!0,sound:!0,image:!0}),this.tranlation.isVisible||this.tranlation.toggleVisibility(),this.sound.isVisible||this.sound.toggleVisibility(),this.image.isVisible||this.image.toggleVisibility())}setTrans(t){this.tranlation.setTransText(t)}setSound(t){this.sound.setSound(t)}setImage(t){this.image.setImage(t)}calcStartCoords(t,e,n){this.image.calcStartCoords(t,e,n)}addImagesToCards(t,e,n){this.image.addImagesToCards(t,e,n)}}var tt=n(911),et={};et.styleTagTransform=h(),et.setAttributes=c(),et.insert=o().bind(null,"head"),et.domAPI=i(),et.insertStyleElement=d(),e()(tt.A,et),tt.A&&tt.A.locals&&tt.A.locals;class nt{constructor(){const t=this.createSelectorContainer("Уровень");this.levelSelect=this.createSelector(),t.appendChild(this.levelSelect);const e=this.createSelectorContainer("Раунд");this.roundSelect=this.createSelector(),e.appendChild(this.roundSelect),this.selectorsBox=this.createSelectorsBox(),this.selectorsBox.append(t,e)}createSelectorContainer(t){const e=document.createElement("div");e.className="selector-container";const n=document.createElement("label");return n.className="text",n.innerHTML=t,e.appendChild(n),e}createSelectorsBox(){const t=document.createElement("div");return t.className="selectors-box",t}createSelector(){const t=document.createElement("select");return t.className="game-selector",t}fillLevelSelect(){for(let t=0;t<6;t+=1)this.levelSelect.appendChild(this.createOption(t,!1))}disableRoundsSelect(){this.roundSelect.disabled=!0}fillRoundsSelect(t){this.roundSelect.disabled=!1,this.roundSelect.innerHTML="";for(let e=0;e<t.length;e+=1)this.roundSelect.appendChild(this.createOption(e,t[e].completed))}markCompletedRound(t){this.roundSelect.children[t].classList.add("completed")}createOption(t,e){const n=document.createElement("option");return n.value=t.toString(),n.innerHTML=(t+1).toString(),e&&n.classList.add("completed"),n}setLevelValue(t){this.levelSelect.value=t.toString()}setRoundValue(t){this.roundSelect.value=t.toString()}}var st,it=n(849),rt={};rt.styleTagTransform=h(),rt.setAttributes=c(),rt.insert=o().bind(null,"head"),rt.domAPI=i(),rt.insertStyleElement=d(),e()(it.A,rt),it.A&&it.A.locals&&it.A.locals,function(t){t[t.Tail=0]="Tail",t[t.Middle=1]="Middle",t[t.Head=2]="Head"}(st||(st={}));class ot extends I{constructor(t,e,n,s,i){super({className:"word-card"}),this.source=e,this.result=n,this.widthMult=Math.max(t.length,i)/s;const r=getComputedStyle(e);this.root.style.width=parseInt(r.width,10)*this.widthMult+"px",this.root.style.height=r.height;const o=document.createElement("p");o.className="text word-card-text",o.innerHTML=t,this.root.appendChild(o),this.baseImg=this.createImgContainer(),this.headImg=this.createImgContainer(),this.root.appendChild(this.baseImg)}createImgContainer(){const t=document.createElement("div");return t.className="card-image",t}addImage(t,e,n,s){this.baseImg.style.backgroundImage=`url(${t})`,this.baseImg.style.backgroundSize=`${s*n}px ${s}px`,this.baseImg.style.backgroundPosition=`${-e.x}px ${-e.y}px`,this.headImg.style.backgroundImage=`url(${t})`,this.headImg.style.backgroundSize=`${s*n}px ${s}px`;const i=-e.x-this.root.offsetWidth+this.headImg.offsetWidth/2,r=-e.y-(this.root.offsetHeight-this.headImg.offsetHeight)/2;this.headImg.style.backgroundPosition=`${i}px ${r}px`}cardInSource(){return this.root.parentElement===this.source}switchParent(){this.cardInSource()?this.smoothAppend(this.result):this.smoothAppend(this.source)}puzzleShape(t){if(t===st.Head||t===st.Middle){const t=document.createElement("div");t.className="puzzle-tail",this.root.appendChild(t)}if(t===st.Tail||t===st.Middle){const t=document.createElement("div");t.className="puzzle-head",t.appendChild(this.headImg),this.root.appendChild(t)}}smoothAppend(t){const e=this.root,n=e.getBoundingClientRect();t.appendChild(e);const s=e.getBoundingClientRect();e.animate({pointerEvents:"none",position:"relative",left:[n.x-s.x+"px","0px"],top:[n.y-s.y+"px","0px"]},ot.appendDuration)}resize(){const t=getComputedStyle(this.source);this.root.style.width=parseInt(t.width,10)*this.widthMult+"px"}}ot.appendDuration=500;const at=ot;class ct{constructor(t,e,n,s,i){this.ui=new at(t,e,n,s,i),this.ui.root.addEventListener("click",(()=>this.switchParent()))}switchParent(){this.ui.switchParent(),this.switchTrigger&&this.switchTrigger()}cardInSource(){return this.ui.cardInSource()}setInactive(){this.ui.root.classList.add("inactive")}resetCheckStyle(){this.ui.root.classList.remove("correct"),this.ui.root.classList.remove("incorrect")}setCheck(t){t?this.ui.root.classList.add("correct"):this.ui.root.classList.add("incorrect")}addPuzzleShape(t){this.ui.puzzleShape(t)}setDraggable(t){this.ui.root.draggable=t}getRoot(){return this.ui.root}getWidth(){return this.ui.root.offsetWidth}addImage(t,e,n,s){this.ui.addImage(t,e,n,s)}setImage(t){t?this.ui.root.classList.remove("no-image"):this.ui.root.classList.add("no-image")}resize(){this.ui.resize()}static applyShapes(t){t[0].addPuzzleShape(st.Tail);for(let e=1;e<t.length-1;e+=1)t[e].addPuzzleShape(st.Middle);t[t.length-1].addPuzzleShape(st.Head)}static createWordCards(t,e,n){const s=n.reduce(((t,e)=>t+Math.max(e.length,5)),0),i=n.map((n=>new ct(n,t,e,s,5)));return ct.applyShapes(i),i}static resetCardsCheckStyle(t){t.forEach((t=>t.resetCheckStyle()))}static setCardsInactive(t){t.forEach((t=>t.setInactive()))}}const lt=(t,e)=>{const n=Math.ceil(t),s=Math.floor(e);return Math.floor(Math.random()*(s-n)+n)};var dt;!function(t){t.WordCardsMis="Word cards are missing",t.LevelMis="Current level is missing",t.RoundMis="Current round is missing",t.WordMis="Current word is missing",t.Index="Invalid index"}(dt||(dt={}));class ut{constructor(){this.hints=new Y,this.selectors=new nt,this.completedWords=[],this.allWordCards=[],this.wordCards=[],this.setupSelectorsLevels()}setupSelectorsLevels(){this.selectors.fillLevelSelect()}async setLevel(t){const e=await V.getLevel(t);if(e){const n={data:e,index:t};return this.currentLevel=n,this.currentLevel}}getLevel(){if(!this.currentLevel)throw Error(dt.LevelMis);return this.currentLevel}setRound(t){const e={data:this.getLevel().data.rounds[t],index:t};return this.currentRound=e,this.completedWords=[],this.currentRound}getRound(){if(!this.currentRound)throw Error(dt.RoundMis);return this.currentRound}setSentence(t){const e=this.getRound();if(t>=e.data.sentences.length)throw Error(dt.Index);const n={data:e.data.sentences[t],index:t};this.currentSentence=n;const s=new SpeechSynthesisUtterance(this.currentSentence.data.text);return s.lang=e.data.language,this.completedWords.push({data:this.currentSentence.data,isCheated:!1,sound:s}),this.currentSentence}getSentence(){if(!this.currentSentence)throw Error(dt.WordMis);return this.currentSentence}getWordCards(){if(0===this.wordCards.length)throw Error(dt.WordCardsMis);return this.wordCards}resetCardsCheckStyle(){const t=this.getWordCards();ct.resetCardsCheckStyle(t)}continueModel(t){const e=this.getWordCards();ct.resetCardsCheckStyle(e),ct.setCardsInactive(e),this.setSentence(t)}wordsAreCorrect(...t){const e=this.getWordCards();return t.every(((t,n)=>t===e[n].getRoot()))}checkWords(...t){const e=this.getWordCards();this.wordCards.forEach(((n,s)=>n.setCheck(t[s]===e[s].getRoot())))}getText(){return this.getSentence().data.text}getTransText(){return this.getSentence().data.translation}async getImg(){const t=this.getRound();return await V.getImage(t.data.image)}getImgSrc(){if(this.currentLevel)return V.getImageSrc(this.currentRound.data.image)}async changeLevel(t){this.selectors.setLevelValue(t),this.selectors.disableRoundsSelect();const e=await this.setLevel(t);if(e)return this.selectors.fillRoundsSelect(e.data.rounds),this.setRound(0),this.setSentence(0),e}async changeRound(t){this.allWordCards=[],this.selectors.setRoundValue(t);const e=this.setRound(t);return this.setSentence(0),e}markCompletedRound(){const t=this.getLevel(),e=this.getRound();return e.data.completed=!0,E.setData(L.LastCompleted,{level:t.index,round:e.index}),this.completedWords.every((t=>!t.isCheated))&&(this.selectors.markCompletedRound(e.index),V.completeRound(e.data.id)),[t.index,e.index]}markCheatedWord(){const t=this.getSentence();this.completedWords[t.index].isCheated=!0}getStatsInfo(){const t=this.getLevel(),e=this.getRound();return{prevGame:{level:t.index,round:e.index},img:V.getImageSrc(e.data.image),round:e.data,words:this.completedWords}}createWordCards(t,e){const n=this.getSentence().data.text.split(" "),s=ct.createWordCards(t,e,n);return this.wordCards=s,this.allWordCards.push(s),(t=>{const e=[...t],n=e.length;for(let t=0;t<n;t+=1){const t=lt(0,n),s=lt(0,n);[e[t],e[s]]=[e[s],e[t]]}return e})(s)}assembleSentence(...t){const e=this.getWordCards();ct.setCardsInactive(e);let n=-1;for(let s=0;s<e.length;s+=1)if(e[s].getRoot()!==t[s]){n=s;break}if(-1!==n){for(let t=n;t<e.length;t+=1)e[t].cardInSource()||setTimeout((()=>{e[t].switchParent()}),at.appendDuration*t);for(let t=n;t<e.length;t+=1)setTimeout((()=>{e[t].switchParent()}),at.appendDuration*(t+2))}}addDragToCards(){this.wordCards&&D.addDragToCards(this.wordCards)}removeDragToCards(){this.wordCards&&D.removeDragToCards(this.wordCards)}async updateHints(t,e){this.hints.setTrans(this.getTransText());const n=new SpeechSynthesisUtterance(this.getText());if(n.lang=this.getRound().data.language,this.hints.setSound(n),t&&e){const n=await this.getImg();this.hints.setImage(n),this.hints.calcStartCoords(parseInt(t.width,10),parseInt(t.height,10),e)}const s=this.getImgSrc();s&&this.hints.addImagesToCards(this.getWordCards(),this.getSentence().index,s)}resize(t,e){const n=this.getImgSrc();n&&(this.hints.calcStartCoords(parseInt(t.width,10),parseInt(t.height,10),e),this.allWordCards.forEach(((t,e)=>{this.hints.addImagesToCards(t,e,n),t.forEach((t=>t.resize()))})))}}var ht=n(267),gt={};gt.styleTagTransform=h(),gt.setAttributes=c(),gt.insert=o().bind(null,"head"),gt.domAPI=i(),gt.insertStyleElement=d(),e()(ht.A,gt),ht.A&&ht.A.locals&&ht.A.locals;class pt extends I{constructor(t,e){super({id:"game"});const n=this.createRowsContainer();this.rowsElements=this.createRows(),n.append(...this.rowsElements),[this.resultElement]=this.rowsElements,this.sourceElement=this.createSource();const s=this.createBtnsContainer();this.secndBtn=this.createSecndBtn(),this.primeBtn=this.createPrimeBtn(),s.appendChild(this.secndBtn),s.appendChild(this.primeBtn);const i=this.createMenu();this.lvlButton=document.createElement("button"),this.lvlButton.className="button",this.lvlButton.innerHTML="Уровень",this.rndButton=document.createElement("button"),this.rndButton.className="button",this.rndButton.innerHTML="Раунд";const r=document.createElement("div");r.className="lev",r.append(this.lvlButton,this.rndButton),i.append(r,t.btnsBox),this.root.appendChild(i),this.root.appendChild(t.root),this.root.appendChild(n),this.root.appendChild(this.sourceElement),this.root.appendChild(s)}createRowsContainer(){const t=document.createElement("div");return t.className="rows-container",t}createRows(){const t=[];for(let e=0;e<10;e+=1){const e=document.createElement("div");e.className="row",t.push(e)}return t}createSource(){const t=document.createElement("div");return t.className="row",t}createSecndBtn(){const t=document.createElement("button");return t.className="button",t.innerHTML="Я не знаю",t}createPrimeBtn(){const t=document.createElement("button");return t.className="button inactive",t.innerHTML="Check",t}createBtnsContainer(){const t=document.createElement("div");return t.className="buttons-container",t}createMenu(){const t=document.createElement("div");return t.className="menu",t}resetUI(){for(let t=0;t<this.rowsElements.length;t+=1)this.rowsElements[t].innerHTML="";this.sourceElement.innerHTML="",this.resetPrimeBtn(),this.resetSecndBtn(),this.setWordFinishState(!1),this.setRoundFinishState(!1)}setResultElement(t){if(t<0||t>this.rowsElements.length-1)throw Error("Invalid index");this.resultElement=this.rowsElements[t]}elementIsEmpty(t){return 0===t.children.length}changePrimeBtn(t,e){const n=this.primeBtn;n.classList.remove("glowing"),n.innerHTML="Проверить",t?(n.classList.remove("inactive"),e&&(n.innerHTML="Продолжить",n.classList.add("glowing"))):n.classList.add("inactive")}primeBtnIsCheck(){return"Проверить"===this.primeBtn.innerHTML}resetPrimeBtn(){const t=this.primeBtn;t.innerHTML="Проверить",t.classList.remove("glowing"),t.classList.add("inactive")}setSecndBtnActive(t){t?this.secndBtn.classList.remove("inactive"):this.secndBtn.classList.add("inactive")}switchSecndBtn(t){t?(this.setSecndBtnActive(!0),this.secndBtn.innerHTML="Результаты"):this.secndBtn.innerHTML="Я не знаю"}secndBtnIsStats(){return"Результаты"===this.secndBtn.innerHTML}resetSecndBtn(){this.switchSecndBtn(!1),this.setSecndBtnActive(!0)}notify(t){const e=document.createElement("div");e.className="notif";const n=document.createElement("p");n.className="text notif-text",n.innerHTML=t,e.appendChild(n),setTimeout((()=>{e.remove()}),4e3),this.root.appendChild(e)}setRoundFinishState(t){t?this.root.classList.add("round-finish"):this.root.classList.remove("round-finish")}setWordFinishState(t){t?this.root.classList.add("word-finish"):this.root.classList.remove("word-finish")}addImageInfo(t){const e=document.createElement("p");e.className="text image-info",e.innerHTML=`${t.name} - ${t.author} (${t.year})`,this.sourceElement.appendChild(e)}}class mt extends z{constructor(){super(),this.model=new ut,this.ui=new pt(this.model.hints,this.model.selectors.selectorsBox),this.ui.lvlButton.addEventListener("click",(()=>this.lvlNavigate())),this.ui.rndButton.addEventListener("click",(()=>this.rndNavigate())),this.setupBtns(),this.setupSelectors(),D.addDropZone(this.ui.sourceElement),D.dropTrigger=()=>{this.model.resetCardsCheckStyle(),this.checkRoundCompletion()},window.addEventListener("resize",(()=>this.resizeListener()))}setupBtns(){this.ui.primeBtn.addEventListener("click",(()=>this.primeBtnClick())),this.ui.secndBtn.addEventListener("click",(()=>this.secndBtnClick()))}setupSelectors(){this.model.selectors.levelSelect.addEventListener("change",(t=>{const e=parseInt(t.target.value,10);this.changeLevel(e)})),this.model.selectors.roundSelect.addEventListener("change",(t=>{const e=parseInt(t.target.value,10);this.changeRound(e)}))}fillSource(){this.model.createWordCards(this.ui.sourceElement,this.ui.resultElement).forEach((t=>{const e=t;e.switchTrigger=()=>{this.model.resetCardsCheckStyle(),this.checkRoundCompletion()},this.ui.sourceElement.appendChild(e.getRoot())}))}primeBtnClick(){const t=this.ui.resultElement.children;this.ui.primeBtnIsCheck()?this.model.checkWords(...t):this.continueGame()}continueGame(){const t=this.model.getSentence().index+1;this.clearDragEvents(this.ui.rowsElements[t-1]),t>9?this.finishGame():(this.model.continueModel(t),this.ui.setResultElement(t),this.ui.setWordFinishState(!1),this.ui.resetPrimeBtn(),this.ui.resetSecndBtn(),this.fillSource(),this.addDragEvents(this.ui.rowsElements[t]),this.model.updateHints())}finishGame(){this.changeToNextRound(...this.model.markCompletedRound())}changeToNextRound(t,e){e+1<this.model.getLevel().data.rounds.length?this.changeRound(e+1):5===t?this.changeLevel(0):this.changeLevel(t+1)}async resumePrevGame(t,e,n){n&&this.ui.notify("Предыдущая игра загружена"),await this.changeLevel(t),this.changeToNextRound(t,e),this.ui.lvlButton.innerText=`Уровень\n${t+1}`,this.ui.rndButton.innerText=`Раунд\n${e+2}`}secndBtnClick(){this.ui.secndBtnIsStats()?(this.model.markCompletedRound(),M.navigate(k.Stats,this.model.getStatsInfo())):(this.ui.setSecndBtnActive(!1),this.model.markCheatedWord(),this.autoAssembly())}autoAssembly(){this.model.assembleSentence(...this.ui.resultElement.children)}checkRoundCompletion(){const t=this.ui.elementIsEmpty(this.ui.sourceElement),e=this.model.wordsAreCorrect(...this.ui.resultElement.children);t&&e&&(this.wordComplete(),9===this.model.getSentence().index&&this.roundComplete()),this.ui.changePrimeBtn(t,e)}wordComplete(){this.ui.setWordFinishState(!0)}roundComplete(){this.ui.addImageInfo(this.model.getRound().data),this.ui.setRoundFinishState(!0),this.ui.switchSecndBtn(!0)}async loadGame(t){this.model.hints.updateHintPrefs();const e=E.getData(L.LastCompleted);t&&(t=>{const e=Object.keys(t);return e.includes("level")&&e.includes("round")})(t)?(this.resumePrevGame(t.level,t.round,!1),E.setData(L.LastCompleted,{level:t.level,round:t.round})):e?this.resumePrevGame(e.level,e.round,!0):(this.ui.lvlButton.innerText="Уровень\n 1",this.ui.rndButton.innerText="Раунд\n 1",this.changeLevel(0))}async resetGameField(t){this.clearDragEvents(this.ui.resultElement),this.ui.setResultElement(0),this.ui.resetUI(),await t(),this.fillSource(),this.addDragEvents(this.ui.rowsElements[0]),await this.model.updateHints(getComputedStyle(this.ui.sourceElement),this.ui.rowsElements.length)}async changeLevel(t){await this.resetGameField((async()=>{try{const e=await this.model.changeLevel(t);e&&(this.ui.lvlButton.innerText=`Уровень\n${e.index+1}`,this.ui.rndButton.innerText="Раунд\n 1")}catch(t){console.log(t)}}))}lvlNavigate(){M.navigate(k.Level)}rndNavigate(){const t={index:this.model.getLevel().index};M.navigate(k.Round,t)}async changeRound(t){await this.resetGameField((async()=>{const e=await this.model.changeRound(t);this.ui.rndButton.innerText=`Раунд\n${e.index+1}`}))}addDragEvents(t){this.model.addDragToCards(),D.addDropZone(t)}clearDragEvents(t){this.model.removeDragToCards(),D.removeDropZone(t)}resizeListener(){this.model.resize(getComputedStyle(this.ui.sourceElement),this.ui.rowsElements.length)}routeInfo(){return{path:k.Game,root:this.ui.root,onLoad:t=>this.loadGame(t)}}}class vt{constructor(){this.passRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d@.#$!%*?&]{5,}$/,this.emailRegex=/(.+)@(.+){2,}\.(.+){2,}/,this.emailMinLength=0,this.passMinLength=5}inputIsValid(t,e,n){const s=t.value;return s.length>=e&&n.test(s)}regexToString(t){const e=t.toString();return e.substring(1,e.length-1)}}function ft(t,e){return bt("input-box",[function(t,e){const n=document.createElement("label");return n.className="text input-label",n.setAttribute("for",e),n.innerText=t,n}(t,e.id),e])}function xt(t){const e=document.createElement("input");return e.required=!0,e.type="text",e.id=t,e.className="login-input",e}function bt(t,e){const n=document.createElement("div");return n.className=t,e.forEach((t=>n.appendChild(t))),n}function yt(t){const e=document.createElement("button");return e.className="button",e.innerHTML=t,e}var wt=n(689),Lt={};Lt.styleTagTransform=h(),Lt.setAttributes=c(),Lt.insert=o().bind(null,"head"),Lt.domAPI=i(),Lt.insertStyleElement=d(),e()(wt.A,Lt),wt.A&&wt.A.locals&&wt.A.locals;class Et extends I{constructor(){super({id:"login",tag:"form"}),this.emailInput=xt("email"),this.passInput=xt("pass"),this.passInput.type="password",this.loginButton=yt("Войти"),this.regButton=yt("Регистрация");const t=ft("Email",this.emailInput),e=ft("Пароль",this.passInput);this.root.appendChild(this.createLoginTitle()),this.root.appendChild(bt("inputs",[t,e])),this.root.append(this.loginButton,this.regButton)}createLoginTitle(){const t=document.createElement("h1");return t.className="text title",t.innerText="Вход",t}setValidity(t,e,n,s){e?t.setCustomValidity(""):("Пароль"===s?t.setCustomValidity(`Пароль должен быть не короче ${n} символов.\nПароль должен включать:\nМаленькую латинскую букву [a-z]\nБольшую латинскую букву [A-Z]\nЧисло [0-9]`):"Email"===s&&t.setCustomValidity("Email не соответствует формату"),t.reportValidity())}resetValidity(t){t.setCustomValidity("")}}class Ct extends z{constructor(){super(),this.ui=new Et,this.model=new vt,this.setupInput(this.ui.emailInput,this.model.emailRegex,this.model.emailMinLength,"Email"),this.setupInput(this.ui.passInput,this.model.passRegex,this.model.passMinLength,"Пароль"),this.setupButton(this.ui.loginButton),this.ui.regButton.addEventListener("click",(t=>{t.preventDefault(),M.navigate(k.Registration)}))}setupInput(t,e,n,s){const i=t;i.required=!0,i.addEventListener("change",(()=>{const t=this.model.inputIsValid(i,n,e);this.ui.setValidity(i,t,n,s)})),i.addEventListener("input",(()=>{this.ui.resetValidity(i)}))}setupButton(t){t.addEventListener("click",(async t=>{if(t.preventDefault(),this.model.inputIsValid(this.ui.emailInput,this.model.emailMinLength,this.model.emailRegex)&&this.model.inputIsValid(this.ui.passInput,this.model.passMinLength,this.model.passRegex))try{const t=await V.login(this.ui.emailInput.value,this.ui.passInput.value);E.setData(L.UserInfo,{firstName:t.firstName,lastName:t.lastName}),w.setCookie("user",t.value,t.expires),this.ui.emailInput.value="",this.ui.passInput.value="",M.navigate(k.Start)}catch(t){"404"===t.message?(this.ui.emailInput.setCustomValidity("Такого пользователя не существует"),this.ui.emailInput.reportValidity()):"401"===t.message?(this.ui.passInput.setCustomValidity("Введён неверный пароль"),this.ui.passInput.reportValidity()):(this.ui.emailInput.setCustomValidity(`Ошибка ${t}`),this.ui.emailInput.reportValidity())}}))}routeInfo(){return{path:k.Login,root:this.ui.root}}}class St{constructor(){this.regex=/^([A-Z]|[А-Я])([A-Z]|[a-z]|-|[А-Я]|[а-я])+$/,this.passRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d@.#$!%*?&]{5,}$/,this.emailRegex=/(.+)@(.+){2,}\.(.+){2,}/,this.nameMinLength=3,this.surnameMinLength=4,this.passMinLength=5}inputIsValid(t,e,n){const s=t.value;return s.length>=e&&n.test(s)}regexToString(t){const e=t.toString();return e.substring(1,e.length-1)}}var It=n(885),Tt={};Tt.styleTagTransform=h(),Tt.setAttributes=c(),Tt.insert=o().bind(null,"head"),Tt.domAPI=i(),Tt.insertStyleElement=d(),e()(It.A,Tt),It.A&&It.A.locals&&It.A.locals;class kt extends I{constructor(){super({id:"registration",tag:"form"}),this.emailInput=xt("email"),this.passInput=xt("pass"),this.fNameInput=xt("fname"),this.sNameInput=xt("sname"),this.regButton=yt("Зарегистрироваться"),this.loginButton=yt("Вход");const t=ft("Email",this.emailInput),e=ft("Пароль",this.passInput),n=ft("Имя",this.fNameInput),s=ft("Фамилия",this.sNameInput);this.root.appendChild(this.createLoginTitle()),this.root.appendChild(bt("inputs",[n,s,t,e])),this.root.append(this.regButton,this.loginButton)}createLoginTitle(){const t=document.createElement("h1");return t.className="text title",t.innerText="Регистрация",t}setValidity(t,e,n,s){e?t.setCustomValidity(""):(["Фамилия","Имя"].includes(s)?t.setCustomValidity(`${"Фамилия"===s?`${s} должна`:`${s} должно`} быть не короче ${n} символов.\n${"Фамилия"===s?`${s} должна`:`${s} должно`} начинаться с большой буквы.\nМожно использовать только английские или русские буквы и символ тире.`):"Пароль"===s?t.setCustomValidity(`Пароль должен быть не короче ${n} символов.\nПароль должен включать:\nМаленькую латинскую букву [a-z]\nБольшую латинскую букву [A-Z]\nЧисло [0-9]`):"Email"===s&&t.setCustomValidity("Email не соответствует формату"),t.reportValidity())}resetValidity(t){t.setCustomValidity("")}}class At extends z{constructor(){super(),this.ui=new kt,this.model=new St,this.setupInput(this.ui.fNameInput,this.model.regex,this.model.nameMinLength,"Имя"),this.setupInput(this.ui.sNameInput,this.model.regex,this.model.surnameMinLength,"Фамилия"),this.setupInput(this.ui.emailInput,this.model.emailRegex,0,"Email"),this.setupInput(this.ui.passInput,this.model.passRegex,this.model.passMinLength,"Пароль"),this.setupButton(this.ui.regButton),this.ui.loginButton.addEventListener("click",(t=>{t.preventDefault(),M.navigate(k.Login)}))}setupInput(t,e,n,s){const i=t;i.required=!0,i.addEventListener("change",(()=>{const t=this.model.inputIsValid(i,n,e);this.ui.setValidity(i,t,n,s)})),i.addEventListener("input",(()=>{this.ui.resetValidity(i)}))}setupButton(t){t.addEventListener("click",(async t=>{if(t.preventDefault(),!this.model.inputIsValid(this.ui.fNameInput,this.model.nameMinLength,this.model.regex))return;if(!this.model.inputIsValid(this.ui.sNameInput,this.model.surnameMinLength,this.model.regex))return;if(!this.model.inputIsValid(this.ui.emailInput,0,this.model.emailRegex))return;if(!this.model.inputIsValid(this.ui.passInput,this.model.passMinLength,this.model.passRegex))return;const e=await V.register(this.ui.fNameInput.value,this.ui.sNameInput.value,this.ui.emailInput.value,this.ui.passInput.value);200===e.status?M.navigate(k.Login):409===e.status&&(this.ui.emailInput.setCustomValidity("Этот Email уже зарегистрирован"),this.ui.emailInput.reportValidity())}))}routeInfo(){return{path:k.Registration,root:this.ui.root}}}var Bt=n(361),Rt={};Rt.styleTagTransform=h(),Rt.setAttributes=c(),Rt.insert=o().bind(null,"head"),Rt.domAPI=i(),Rt.insertStyleElement=d(),e()(Bt.A,Rt),Bt.A&&Bt.A.locals&&Bt.A.locals;class Mt extends I{constructor(){super({id:"start"}),this.userName=this.createUserName();const t=this.createGameDesc(this.userName);this.startButton=this.createStartButton(),this.root.appendChild(this.createGameTitle()),this.root.appendChild(t),this.root.appendChild(this.startButton)}createGameTitle(){const t=document.createElement("h1");return t.className="text game-title",t.innerHTML="Языковой Пазл",t}createUserName(){return document.createElement("span")}createGameDesc(t){const e=document.createElement("br"),n=document.createElement("p");return n.className="text game-description",n.append(document.createTextNode("Добро пожаловать, "),t),n.append(document.createTextNode("!"),e.cloneNode()),n.append(document.createTextNode("Нажимайте по словам, собирайте фразы"),e.cloneNode()),n.append(document.createTextNode("Слова можно перетаскивать мышью"),e.cloneNode()),n.append(document.createTextNode("Используйте подсказки"),e.cloneNode()),n}createStartButton(){const t=document.createElement("button");return t.className="button",t.innerHTML="Начать",t}changeUserName(t,e){this.userName.innerHTML=`${t} ${e}`}}class Nt extends z{constructor(){super(),this.ui=new Mt,this.setupStartButton()}setupStartButton(){this.ui.startButton.addEventListener("click",(async()=>{M.navigate(k.Level)}))}updateDescription(){const t=E.getData(L.UserInfo),{firstName:e,lastName:n}=t;this.ui.changeUserName(e,n)}routeInfo(){return{path:k.Start,root:this.ui.root,onLoad:()=>this.updateDescription()}}}var Ht=n(469),Dt={};Dt.styleTagTransform=h(),Dt.setAttributes=c(),Dt.insert=o().bind(null,"head"),Dt.domAPI=i(),Dt.insertStyleElement=d(),e()(Ht.A,Dt),Ht.A&&Ht.A.locals&&Ht.A.locals;class zt extends I{constructor(){super({id:"stats"});const t=this.createWrapper("img-wrapper");this.img=this.createImg(),this.imgInfo=this.createImgInfo(),t.append(this.img,this.imgInfo);const e=this.createWrapper("sentences-wrapper");let n,s;[n,this.knowCounter,this.knowBox]=this.createSentencesWrapper("know","Знаю"),[s,this.dontKnowCounter,this.dontKnowBox]=this.createSentencesWrapper("dont-know","Не знаю"),e.append(n,s),this.continueBtn=this.createBtn(),this.root.append(t,e,this.continueBtn)}createImg(){const t=document.createElement("img");return t.className="stats-img",t}createImgInfo(){const t=document.createElement("p");return t.className="text stats-img-info",t}createWrapper(t){const e=document.createElement("div");return e.className=t,e}createSentencesWrapper(t,e){const n=document.createElement("div");n.className=t;const s=document.createElement("div");s.className="label-wrapper";const i=document.createElement("label");i.className="text box-label",i.innerHTML=e;const r=document.createElement("div");r.className="text counter",s.append(i,r);const o=document.createElement("div");return o.className="sentences-box",n.append(s,o),[n,r,o]}createBtn(){const t=document.createElement("button");return t.className="button",t.innerHTML="Продолжить",t}createSentence(t,e){const n=document.createElement("div");n.className="sentence";const s=document.createElement("button");s.className="sentence-sound",s.innerHTML=Z.Sound,s.addEventListener("click",(()=>window.speechSynthesis.speak(e)));const i=document.createElement("p");return i.className="text",i.innerHTML=t.text,n.append(s,i),n}updateUI(t){this.img.src=t.img,this.imgInfo.innerHTML=`${t.round.name} - ${t.round.author} (${t.round.year})`;const{words:e}=t;let n=0,s=0;this.knowBox.innerHTML="",this.dontKnowBox.innerHTML="",e.forEach((t=>{const e=this.createSentence(t.data,t.sound);t.isCheated?(s+=1,this.dontKnowBox.appendChild(e)):(n+=1,this.knowBox.appendChild(e))})),this.knowCounter.innerHTML=n.toString(),this.dontKnowCounter.innerHTML=s.toString()}}class Vt extends z{constructor(){super(),this.ui=new zt}updateStats(t){t?(this.ui.updateUI(t),this.ui.continueBtn.addEventListener("click",(()=>{M.navigate(k.Game,t.prevGame)}),{once:!0})):M.navigate(k.Game)}routeInfo(){return{path:k.Stats,root:this.ui.root,onLoad:t=>this.updateStats(t)}}}var Pt=n(161),$t={};$t.styleTagTransform=h(),$t.setAttributes=c(),$t.insert=o().bind(null,"head"),$t.domAPI=i(),$t.insertStyleElement=d(),e()(Pt.A,$t),Pt.A&&Pt.A.locals&&Pt.A.locals;class Wt extends I{constructor(){super({id:"level"}),this.box=this.createBox(),this.continueButton=this.createContinueButton(),this.root.append(this.box)}createBox(){const t=document.createElement("div");return t.className="levels",t}createContinueButton(){const t=document.createElement("button");return t.className="button",t.innerHTML="Продолжить раунд",t.addEventListener("click",(()=>{M.navigate(k.Game)})),t}fillWithLevels(t){this.box.innerHTML="",t.forEach((t=>{const e=document.createElement("button");e.className="button level",e.addEventListener("click",(()=>{const e={index:t.id-1};M.navigate(k.Round,e)}));const n=document.createElement("p");n.className="text",n.innerHTML=t.name,e.append(n),this.box.append(e)})),E.getData(L.LastCompleted)&&this.box.append(this.continueButton)}}class Ut extends z{constructor(){super(),this.ui=new Wt,this.fillLevels()}async fillLevels(){const t=[];for(let e=0;e<6;e++){const n=await V.getLevel(e);n&&t.push(n)}this.ui.fillWithLevels(t)}routeInfo(){return{path:k.Level,root:this.ui.root,onLoad:()=>this.fillLevels()}}}var Gt=n(70),jt={};jt.styleTagTransform=h(),jt.setAttributes=c(),jt.insert=o().bind(null,"head"),jt.domAPI=i(),jt.insertStyleElement=d(),e()(Gt.A,jt),Gt.A&&Gt.A.locals&&Gt.A.locals;class Ot extends I{constructor(){super({id:"round"}),this.backButton=this.createBackButton(),this.roundsBox=document.createElement("div"),this.roundsBox.className="rounds",this.root.append(this.backButton,this.roundsBox)}createBackButton(){const t=document.createElement("button");return t.addEventListener("click",(()=>{M.navigate(k.Level)})),t.className="button",t.innerHTML="Назад",t}resetUI(){this.roundsBox.innerHTML=""}fillWithRounds(t,e){this.roundsBox.innerHTML="",t.forEach(((t,n)=>{const s=document.createElement("div");s.addEventListener("click",(()=>{M.navigate(k.Game,{level:e-1,round:n-1})})),s.className="round",t.completed||s.classList.add("incomplete");const i=document.createElement("img");i.src=V.getImageSrc(t.image);const r=document.createElement("p");r.className="text name",r.innerHTML=t.name;const o=document.createElement("p");o.className="text author",o.innerHTML=t.author;const a=document.createElement("p");a.className="text year",a.innerHTML=t.year,s.append(i,r,o,a),this.roundsBox.append(s)}))}}class Zt extends z{constructor(){super(),this.levelIndex=0,this.ui=new Ot,this.levelIndex=0}async fillRounds(t){t&&(this.levelIndex=t.index),this.ui.resetUI();const e=await V.getLevel(this.levelIndex);e&&this.ui.fillWithRounds(e.rounds,e.id)}routeInfo(){return{path:k.Round,root:this.ui.root,onLoad:t=>this.fillRounds(t)}}}var Ft=n(208),_t={};_t.styleTagTransform=h(),_t.setAttributes=c(),_t.insert=o().bind(null,"head"),_t.domAPI=i(),_t.insertStyleElement=d(),e()(Ft.A,_t),Ft.A&&Ft.A.locals&&Ft.A.locals,(new class extends I{constructor(){super({id:"app"}),V.baseURL="http://127.0.0.1:3000",this.login=new Ct,this.registration=new At,this.start=new Nt,this.level=new Ut,this.round=new Zt,this.game=new mt,this.stats=new Vt}async setup(){document.body.appendChild(this.root),this.setupRouter()}setupRouter(){window.addEventListener("popstate",(()=>M.handleLocation())),M.coreElement=this.root,M.setRoute(this.login.routeInfo()),M.setRoute(this.registration.routeInfo()),M.setRoute(this.start.routeInfo()),M.setRoute(this.level.routeInfo()),M.setRoute(this.round.routeInfo()),M.setRoute(this.game.routeInfo()),M.setRoute(this.stats.routeInfo()),M.handleLocation()}}).setup()})()})();